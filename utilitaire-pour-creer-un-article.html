<!DOCTYPE html>
<html lang="fr">
	<head>
<meta charset=utf-8 />
<title>
		Narval
</title>
<meta name="author" content="Ench" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://narvalblog.github.io/RSSfeed.xml" rel="alternate" type="application/rss+xml" title="News for Narval" />
<link rel="canonical" href="https://narvalblog.github.io" />
<link rel="icon" href="https://narvalblog.github.io/themes/Minival/favicon.ico" />
<link rel="stylesheet" type="text/css" href="https://narvalblog.github.io/themes/Minival/base.css" media="screen" />
<link href="https://fonts.googleapis.com/css?family=Alegreya:400,700|Raleway" rel="stylesheet"> 
<meta name="description" content="Utilitaire pour créer un article facilement." />
</head>

<body>
<div class="container">
			<header>
<h1><a href="https://narvalblog.github.io/index.html">Narval</a></h1>
<p>Générateur de blog statique.</p>
<nav>
<ul>
<a href="https://narvalblog.github.io/index.html"><li>Accueil</li></a>
<a href="#" id="bt1"><li class="menu withSubmenu">Categories</li></a>
<a href="#" id="bt2"><li class="menu withSubmenu">Pages</li></a>
<a type="application/rss+xml" href="https://narvalblog.github.io/RSSfeed.xml"><li>RSS</li></a>
</ul>
<ul class="submenu" id="categories">→
<a style="background:rgb(230, 230, 230);" class="tag" href="https://narvalblog.github.io/divers/index.html">Divers</a>
<a style="background:rgb(233, 206, 206);" class="tag" href="https://narvalblog.github.io/documentation/index.html">Documentation</a>
</ul>
<ul class="submenu" id="pages">→
<a class="tag" href="https://narvalblog.github.io/a-propos.html">À propos</a>
<a class="tag" href="https://narvalblog.github.io/archives.html">Archives</a>
</ul>
</nav>
</header>

<article itemscope itemtype="http://schema.org/BlogPosting">
<header><h1>Utilitaire pour créer un article</h1></header>
<div class="metas">
<time itemprop="dateCreated" datetime="2017-12-21T14:32:00.000000+00:00">21 décembre 2017</time>
					<a class="tag" style="background:rgb(233, 206, 206)" href="https://narvalblog.github.io/documentation/index.html">Documentation</a>

</div>
<div class="content"><p>Voici un petit outil pratique qui permet de générer une page "post" sans avoir à en dupliquer une déjà présente. Un article peut également contenir le champ "modified" (date de modification) qui n'apparait pas ici puisque cette page est faite uniquement pour créer un article. Les champs obligatoires sont marqués d'une astérisque.</p>

<div class="myForm">
	<h2>Titre de l'article *</h2>
	<input id=title111 type='text'/>
	<p><small>Le titre de la page peut contenir du HTML.</small></p>

	<h2>Date *</h2>
	<input id=date111 type='text'/>
	<p><small>Date de publication ou de rédaction de l'article. C'est la date actuelle qui s'affiche par défaut.</small></p>

	<h2>Slug</h2>
	<input id='slug111' type='text'/>
	<p><small>Nom dans l'URL. Le slug est généré automatiquement (à la génération du blog) en fonction du titre de l'article, mais des fois, on peut vouloir le changer (déjà existant, trop long, pas joli, ...). Il peut comporter uniquement des lettres non accentuées en minuscule, des chiffres, des tirets "-" et des underscores "_". Le slug doit être unique, car il identifie l'article.</small></p>

	<h2>Catégories *</h2>
	<input id='categories111' type='text'/>
	<p><small>S'il y a plusieurs catégories, il convient de les séparer par le signe "+". Si elles sont nouvelles, pense à les intégrer dans le fichier "posts/CATEGORIES".</small></p>

	<h2>Description (META)</h2>
	<textarea id='description111'></textarea>
	<p><small>Sans HTML. Ce court texte apparaitra dans les moteurs de recherche. Il doit indiquer clairement et succintement le sujet de l'article. Si le chapeau est concis et sans caractères spéciaux, il peut également servir à générer la description, (même s'il contient des balises HTML "P").</small></p>

	<h2>Introduction ou chapeau</h2>
	<textarea id='introduction111'></textarea>
	<p><small>Ce texte peut contenir du HTML.</small></p>

	<h2>Auteurs</h2>
	<input id=authors111 type='text'/>
	<p><small>S'il y a plusieurs auteurs, il convient de les séparer par le signe "+". S'ils sont nouveaux, pense à les intégrer dans le fichier "posts/AUTHORS". Si aucun auteur n'est mentionné, l'auteur général sera indiqué comme étant l'auteur de cet article.</small></p>

	<h2>Image</h2>
	<input id=image111 type='text'/>
	<p><small>Nom de l'image avec extension (et chemin d'accés) qui illustre l'article. Cette image est à placer dans "attachments". Astuce d'organisation&nbsp;: Créer un dossier "thumbs" dans "attachments" pour y placer les miniatures. Il faut alors insérer par exemple ceci&nbsp;: "thumbs/12.jpg".</small></p>

	<h2>Template</h2>
	<input id=template111 type='text'/>
	<p><small>Si l'article nécessite un template particulier, il suffit de l'indiquer ici.</small></p>

	<h2>Contenu de l'article *</h2>
	<textarea id=content111></textarea>
	<p><small>HTML ou Markdown. Il convient de commencer avec des titres de niveau 2 (H2 ou ##), car le niveau 1 est utilisé par le titre de l'article.</small></p>

	<div id=bt111 class=bt>Générer</div>
	<div id=result111 style="display:none;background:bisque; font-size:.9em; font-family:monospace; padding:15px;margin: 20px 0;" contenteditable></div>
	<p>Et après&nbsp;?<p>
	<ol>
		<li>Ce code est à coller dans un nouveau fichier portant l'extension .html (si le contenu est du HTML) ou .md (si le contenu est du markdown).</li>
		<li>Le fichier est à déposer dans "posts" ou "posts/draft" si c'est un brouillon.</li>
		<li>Générer le blog avec la commande "python3 build.py".</li>
		<li>Publier le blog généré.</li>
	</ol>
</div>

<script>
	const
		today111 = new Date(),
		day111 = today111.getUTCDate(),
		month111 = today111.getUTCMonth(),
		year111 = today111.getUTCFullYear(),
		hour111 = today111.getUTCHours()+1,
		min111 = today111.getUTCMinutes(),

		title111 = document.getElementById('title111').value.replace(/</g, '&lt;').replace(/>/g, '&gt;'),
		date111 = document.getElementById('date111'),
		slug111 = document.getElementById('slug111').value,
		categories111 = document.getElementById('categories111').value,
		description111 = document.getElementById('description111').value,
		introduction111 = document.getElementById('introduction111').value.replace(/</g, '&lt;').replace(/>/g, '&gt;'),
		authors111 = document.getElementById('authors111').value,
		image111 = document.getElementById('image111').value,
		template111 = document.getElementById('template111').value,
		content111 = document.getElementById('content111').value.replace(/</g, '&lt;').replace(/>/g, '&gt;'),
		bt111 = document.getElementById('bt111'),
		result111 = document.getElementById('result111')

	date111.value = [year111, month111, day111].join('-') + ' ' + [hour111, min111].join(':')
	bt111.addEventListener('click', function() {
		result111.innerHTML = 'title: '+title111+'<br>'
		result111.innerHTML += 'date: '+date111.value+'<br>'
		if (slug111 !== '') result111.innerHTML += 'slug: '+slug111+'<br>'
		result111.innerHTML += 'categories: '+categories111+'<br>'
		if (description111 !== '') result111.innerHTML += 'description: '+description111+'<br>'
		if (introduction111 !== '') result111.innerHTML += 'introduction: '+introduction111+'<br>'
		if (authors111 !== '') result111.innerHTML += 'authors: '+authors111+'<br>'
		if (image111 !== '') result111.innerHTML += 'image: '+image111+'<br>'
		if (template111 !== '') result111.innerHTML += 'template: '+template111+'<br>'
		result111.innerHTML += '<br>'+content111
		result111.style.display = 'block'
	}, false)

</script></div>
</article>
<a class="btNav" href="https://narvalblog.github.io/index.html">Accueil</a>

<br><a href='documentation-complete.html'>←&nbsp;Documentation complète</a>

			<footer>
<p>
<small>
			Blog de Ench, généré avec <em>Narval</em>.
<br>
			Dernière modification le 21 décembre 2017.
</small>
</p>
</footer>
<script>
	const
		categories = document.getElementById('categories'),
		pages = document.getElementById('pages'),
		bt1 = document.getElementById('bt1'),
		bt2 = document.getElementById('bt2')

	function showCategories() {
		categories.style.display = 'block'
		pages.style.display = 'none'
	}
	function showPages() {
		pages.style.display = 'block'
		categories.style.display = 'none'
	}
	bt1.addEventListener('click', function(e) {
		e.preventDefault()
		showCategories()
	}, false)
	bt2.addEventListener('click', function(e) {
		e.preventDefault()
		showPages()
	}, false)
	bt1.addEventListener('touchstart', function(e) {
		e.preventDefault()
		showCategories()
	}, false)
	bt2.addEventListener('touchstart', function(e) {
		e.preventDefault()
		showPages()
	}, false)
</script>

</div>
</body>
</html>
